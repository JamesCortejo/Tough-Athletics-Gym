<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Tough Athletics Gym</title>
    <link href="/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/css/splashstyles.css">
    <link rel="stylesheet" href="/css/indexstyles.css">
    <!-- Add reCAPTCHA script -->
    <script src="https://www.google.com/recaptcha/api.js?render=YOUR_SITE_KEY"></script>
    <script>
        // Set reCAPTCHA site key from environment (you'll need to pass this from server)
        const RECAPTCHA_SITE_KEY = '<?= process.env.RECAPTCHA_SITE_KEY ?>';
        // For static HTML, you'll need to set this manually or create a dynamic route
    </script>
</head>

<body>
    <!-- this is the splash screen -->
    <div id="splash-screen" class="d-flex flex-column justify-content-center align-items-center text-white vh-100">
        <img src="/images/icons/startuplogo.png" alt="Startup Logo" class="mb-3" style="width: 90px; height: 160px;">
    </div>

    <!-- main content -->
    <div class="container mt-5">
        <!-- banner logo-->
        <div class="bannerLogo">
            <img src="/images/icons/bannerlogo.png" alt="Banner Logo" class="mb-3" style="width: 250px; height: 120px;">
        </div>
        <!-- banner logo end -->

        <!-- login form -->
        <div class="loginBox d-flex flex-column">
            <h1 class=" text-center"><b>Welcome!</b></h1>
            <hr class="mb-4">
            <div class="formContainer">
                <form action="/login" method="POST" id="loginForm">
                    <div class="mb-4">
                        <input type="text" class="form-control" id="username" name="username" placeholder="Username"
                            required>
                    </div>
                    <div class="mb-2">
                        <input type="password" class="form-control" id="password" name="password" placeholder="Password"
                            required>
                    </div>
                    <!-- Hidden input for reCAPTCHA token -->
                    <input type="hidden" id="recaptchaToken" name="recaptchaToken">

                    <div class="forgotPass text-end mb-4">
                        <a href="/user_pages/forgotEmail.html" class="text-decoration-none"
                            style="font-size: 13px; color: rgb(255, 255, 255);">Forgot
                            Password?</a>
                    </div>
                    <button type="submit" class="btn btn-custom w-100 mt-2" id="loginButton">Login</button>
                    <div class="forgotPass text-center mt-3" style="font-size: 13px; color: #fff;">
                        Don't have an account?
                        <a href="/user_pages/register.html" class="text-decoration-none"
                            style="color: #0d6efd; font-weight: 500;">
                            Sign Up
                        </a>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Add this at the top of your index.html body content -->
    <div id="registrationSuccessAlert" class="alert alert-success alert-dismissible fade show"
        style="display: none; margin: 15px; position: fixed; top: 20px; left: 50%; transform: translateX(-50%); z-index: 1000; width: calc(100% - 30px); max-width: 400px;">
        <div style="padding-right: 30px;">
            <strong>Success!</strong> Your registration was completed successfully.
        </div>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>

    <div class="footerLogo">
        <img src="/images/icons/startuplogo.png" alt="Footer Logo" width="40" height="80">
    </div>
</body>
<script>
    // Check for successful registration on page load
    document.addEventListener('DOMContentLoaded', function () {
        const urlParams = new URLSearchParams(window.location.search);
        if (urlParams.get('registration') === 'success') {
            const successAlert = document.getElementById('registrationSuccessAlert');
            if (successAlert) {
                successAlert.style.display = 'block';

                // Auto-hide after 5 seconds
                setTimeout(() => {
                    successAlert.style.display = 'none';
                    // Remove the query parameter from URL
                    window.history.replaceState({}, document.title, window.location.pathname);
                }, 5000);
            }
        }
    });
</script>
<script src="/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="/js/splashscreen.js"></script>
<script src="/js/userJS/login.js"></script>

</html>